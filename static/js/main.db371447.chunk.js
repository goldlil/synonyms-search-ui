(this["webpackJsonpsynonyms-search-app"]=this["webpackJsonpsynonyms-search-app"]||[]).push([[0],{171:function(e,t,n){e.exports=n(355)},176:function(e,t,n){},177:function(e,t,n){},355:function(e,t,n){"use strict";n.r(t);var a,r=n(0),s=n.n(r),o=n(3),i=n.n(o),l=(n(176),n(50)),c=n(51),m=n(54),u=n(52),h=n(55),d=(n(177),n(358)),y=n(362),p=n(363),f=n(366),v=n(359),b=n(364),E=n(42),S=n(361),g=n(365),k=n(111),w=n.n(k);a="local"===Object({NODE_ENV:"production",PUBLIC_URL:"/synonyms-search-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STAGE?"http://localhost:8080":"https://synonyms-search-api.herokuapp.com";var O=function(e){var t="".concat(a,"/synonyms/add");return w.a.post(t,e)},P=function(e,t){var n="".concat(a,"/synonyms/search?word=").concat(e);return null!=t&&(n+="&depth=".concat(t)),w.a.get(n)},j=p.a.Search,C=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={visible:n.props.visible,searchResults:[""],searchLoading:!1,inputValue:1,dropDownOptions:Array.from(Array(11).keys()),searchDepthPlaceholder:"unlimited"},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"searchSynonyms",value:function(e){var t=this;this.setState({searchLoading:!0}),P(e,"unlimited"===this.state.searchDepthPlaceholder?null:parseInt(this.state.searchDepthPlaceholder)).then((function(e){t.setState({searchResults:0!==e.data.length?e.data:["No synonyms found"]})})).catch((function(e){console.error(e),f.a.error("Unexpected problem occurred during search!",.8)})).finally((function(){t.setState({searchLoading:!1})}))}},{key:"onSliderChange",value:function(e){isNaN(e)||this.setState({inputValue:e})}},{key:"handleMenuClick",value:function(e){this.setState({searchDepthPlaceholder:e.key})}},{key:"render",value:function(){var e=s.a.createElement(y.a,{onClick:this.handleMenuClick.bind(this)},this.state.dropDownOptions.map((function(e){return s.a.createElement(y.a.Item,{key:0===e?"unlimited":e}," ",0===e?"unlimited":e," ")})));return s.a.createElement("div",{className:"App",style:{display:this.state.visible?"block":"none"}},s.a.createElement(d.a,{justify:"center",style:{paddingTop:"6em"}},s.a.createElement(v.a,{xs:22,sm:14,md:10,lg:8},s.a.createElement("p",null,"Enter word for synonyms search"))),s.a.createElement(d.a,{justify:"center",style:{paddingTop:"1em"}},s.a.createElement(v.a,{xs:22,sm:14,md:10,lg:8},s.a.createElement(j,{placeholder:"Enter a word",onSearch:this.searchSynonyms.bind(this),enterButton:!0,loading:this.state.searchLoading}))),s.a.createElement(d.a,{justify:"center",style:{paddingTop:"1em"}},s.a.createElement(v.a,{xs:22,sm:14,md:10,lg:8},"Search depth:\xa0\xa0",s.a.createElement(b.a,{overlay:e},s.a.createElement(E.a,null,this.state.searchDepthPlaceholder," ",s.a.createElement(g.a,null))))),s.a.createElement(d.a,{justify:"center",style:{paddingTop:"1em"}},s.a.createElement(v.a,{xs:22,sm:14,md:10,lg:8},s.a.createElement(S.a,{size:"small",dataSource:this.state.searchResults,renderItem:function(e){return s.a.createElement(S.a.Item,null,e)}}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{visible:e.visible}}}]),t}(s.a.Component),T=n(360),x=p.a.TextArea,F=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).formRef=s.a.createRef(),n.wordPattern=/^[a-zA-Z]+$/,n.splitPattern=/[^\r\n]+/g,n.state={visible:n.props.visible},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onFinish",value:function(e){var t=this,n=e.synonyms.match(this.splitPattern);if(null==n||0===n.length)return Promise.resolve();var a=!0,r=!1,s=void 0;try{for(var o,i=n[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;l=l.trim()}}catch(c){r=!0,s=c}finally{try{a||null==i.return||i.return()}finally{if(r)throw s}}O({word:e.word,synonyms:n}).then((function(){f.a.success("Synonyms successfully added!",.8),t.formRef.current.resetFields()})).catch((function(e){console.error(e),f.a.error("Unexpected problem occurred during adding synonyms!",.8)}))}},{key:"onFinishFailed",value:function(e){console.log("error: ",e),f.a.error("Please fill form correcly!",1)}},{key:"validatorForSynonyms",value:function(e,t){if(null==t)return Promise.resolve();var n=t.match(this.splitPattern);if(null==n||0===n.length)return Promise.resolve();var a=!0,r=!1,s=void 0;try{for(var o,i=n[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;if(console.log(l.trim()),!this.wordPattern.test(l.trim()))return Promise.reject("Words can only include letters of english alphabeth!")}}catch(c){r=!0,s=c}finally{try{a||null==i.return||i.return()}finally{if(r)throw s}}return Promise.resolve()}},{key:"render",value:function(){return s.a.createElement("div",{className:"App",style:{display:this.state.visible?"block":"none"}},s.a.createElement(d.a,{justify:"center",style:{paddingTop:"6em"}},s.a.createElement(v.a,{xs:22,sm:14,md:10,lg:8},s.a.createElement(T.a,{layout:"vertical",onFinish:this.onFinish.bind(this),onFinishFailed:this.onFinishFailed,ref:this.formRef},s.a.createElement(T.a.Item,{label:"Enter a word:",name:"word",rules:[{required:!0,message:"Please input a word!"},{max:30,message:"Max length of word is 30 characters"}]},s.a.createElement(p.a,{placeholder:"Enter a word"})),s.a.createElement(T.a.Item,{label:"Synonyms:",name:"synonyms",rules:[{required:!0,message:"Please input synonyms!"},{validator:this.validatorForSynonyms.bind(this)}]},s.a.createElement(x,{placeholder:"One synonym per line",autoSize:{minRows:3,maxRows:10}})),s.a.createElement(T.a.Item,null,s.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Add synonyms"))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{visible:e.visible}}}]),t}(s.a.Component),A=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={searchSynonymsVisible:!0,addNewSynonymsVisible:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleMenuClick",value:function(e){console.log("click ",e),this.setState({searchSynonymsVisible:"searchSynonyms"===e.key,addNewSynonymsVisible:"addSynonyms"===e.key}),console.log(this.state)}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(d.a,{justify:"center"},s.a.createElement(y.a,{mode:"horizontal",onClick:this.handleMenuClick.bind(this)},s.a.createElement(y.a.Item,{key:"searchSynonyms"},"Search synonyms"),s.a.createElement(y.a.Item,{key:"addSynonyms"},"Add synonyms"))),s.a.createElement(C,{visible:this.state.searchSynonymsVisible}),s.a.createElement(F,{visible:this.state.addNewSynonymsVisible}))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[171,1,2]]]);
//# sourceMappingURL=main.db371447.chunk.js.map